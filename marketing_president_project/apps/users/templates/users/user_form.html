{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center relative overflow-hidden">
    <!-- Animated Background -->
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 pointer-events-none z-0">
        <div class="absolute inset-0 bg-black opacity-40 pointer-events-none"></div>
        
        <!-- Floating geometric shapes -->
        <div class="absolute top-10 left-10 w-20 h-20 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20 animate-pulse pointer-events-none"></div>
        <div class="absolute top-32 right-20 w-16 h-16 bg-gradient-to-r from-pink-400 to-red-500 rounded-lg rotate-45 opacity-15 animate-bounce pointer-events-none"></div>
        <div class="absolute bottom-20 left-32 w-24 h-24 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full opacity-10 animate-ping pointer-events-none"></div>
        <div class="absolute bottom-40 right-10 w-12 h-12 bg-gradient-to-r from-green-400 to-blue-500 rounded-lg opacity-20 animate-spin pointer-events-none" style="animation-duration: 8s;"></div>
        
        <!-- Floating particles -->
        <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-60 animate-pulse pointer-events-none" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/3 right-1/3 w-1 h-1 bg-blue-300 rounded-full opacity-80 animate-ping pointer-events-none" style="animation-delay: 2s;"></div>
        <div class="absolute bottom-1/4 left-1/2 w-3 h-3 bg-purple-300 rounded-full opacity-40 animate-bounce pointer-events-none" style="animation-delay: 0.5s;"></div>
    </div>

    <!-- Main Form Container -->
    <div class="relative z-10 max-w-lg w-full mx-4">
        <!-- Glassmorphism Card -->
        <div class="backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-white/20 to-white/5 px-8 py-6 border-b border-white/10">
                <h1 class="text-4xl font-bold text-white mb-2 text-center tracking-wide">
                    {{ title }}
                </h1>
                <div class="w-20 h-1 bg-gradient-to-r from-blue-400 to-purple-500 mx-auto rounded-full"></div>
            </div>

            <!-- Form Content -->
            <div class="p-8">
                <form method="POST" class="space-y-8">
                    {% csrf_token %}
                    
                    <div class="space-y-6">
                        {% for field in form %}
                        <div class="group">
                            {% if field.label %}
                            <label class="block text-sm font-semibold text-white/90 mb-3 tracking-wider uppercase">
                                {{ field.label }}
                            </label>
                            {% endif %}
                            
                            <div class="relative">
                                <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-500/20 rounded-xl blur-sm group-hover:blur-none transition-all duration-300 pointer-events-none"></div>
                                
                                {% if field.field.widget.input_type == 'textarea' %}
                                <textarea name="{{ field.name }}" 
                                          class="relative w-full px-6 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent backdrop-blur-sm transition-all duration-300 resize-none h-32"
                                          placeholder="{{ field.field.widget.attrs.placeholder|default:field.label }}"
                                          {% if field.field.required %}required{% endif %}>{{ field.value|default_if_none:"" }}</textarea>
                                {% elif field.field.widget.input_type == 'select' %}
                                <select name="{{ field.name }}" 
                                        class="relative w-full px-6 py-4 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent backdrop-blur-sm transition-all duration-300 appearance-none"
                                        {% if field.field.required %}required{% endif %}>
                                    {% for choice in field.field.choices %}
                                    <option value="{{ choice.0 }}" class="bg-gray-800 text-white" {% if choice.0 == field.value %}selected{% endif %}>
                                        {{ choice.1 }}
                                    </option>
                                    {% endfor %}
                                </select>
                                <div class="absolute inset-y-0 right-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                                {% else %}
                                <input type="{{ field.field.widget.input_type|default:'text' }}" 
                                       name="{{ field.name }}" 
                                       value="{{ field.value|default_if_none:'' }}"
                                       class="relative w-full px-6 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent backdrop-blur-sm transition-all duration-300"
                                       placeholder="{{ field.field.widget.attrs.placeholder|default:field.label }}"
                                       {% if field.field.required %}required{% endif %} />
                                {% endif %}

                                <div class="absolute inset-0 rounded-xl pointer-events-none">
                                    <div class="absolute inset-0 border-2 border-transparent group-hover:border-purple-400/30 rounded-xl transition-all duration-300"></div>
                                </div>
                            </div>

                            {% if field.errors %}
                            <div class="mt-2 text-red-300 text-sm">
                                {% for error in field.errors %}
                                <p class="flex items-center">
                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                                    </svg>
                                    {{ error }}
                                </p>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>

                    <!-- Buttons -->
                    <div class="flex justify-end space-x-4 pt-6">
                        <a href="{% url 'users:approvals' %}" 
                           class="group relative inline-flex items-center px-8 py-4 border border-white/30 rounded-xl text-white font-semibold tracking-wider uppercase transition-all duration-300 hover:border-white/50 hover:bg-white/5 hover:shadow-lg hover:shadow-white/10 hover:-translate-y-0.5">
                            <span class="relative z-10">Batal</span>
                            <div class="absolute inset-0 bg-gradient-to-r from-gray-600/20 to-gray-700/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                        </a>

                        <button type="submit" 
                                class="group relative inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-xl text-white font-bold tracking-wider uppercase shadow-xl transition-all duration-300 hover:shadow-2xl hover:shadow-purple-500/25 hover:-translate-y-0.5 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-2 focus:ring-offset-transparent">
                            <span class="relative z-10 flex items-center">
                                Simpan
                                <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </span>
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                            <div class="absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">
                                <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                            </div>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Decorative bottom line -->
            <div class="h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 pointer-events-none"></div>
        </div>

        <!-- Outer glow -->
        <div class="absolute -inset-4 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20 rounded-3xl blur-xl opacity-50 animate-pulse pointer-events-none"></div>
    </div>
</div>

<!-- Custom Styling -->
<style>
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}
@keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(147, 51, 234, 0.3); }
    50% { box-shadow: 0 0 40px rgba(147, 51, 234, 0.6); }
}
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-glow { animation: glow 2s ease-in-out infinite; }

textarea::-webkit-scrollbar {
    width: 6px;
}
textarea::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
}
textarea::-webkit-scrollbar-thumb {
    background: rgba(147, 51, 234, 0.5);
    border-radius: 3px;
}
textarea::-webkit-scrollbar-thumb:hover {
    background: rgba(147, 51, 234, 0.7);
}
</style>
{% endblock %}
